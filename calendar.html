<!DOCTYPE html>
<html lan="pt-BR">
    <head>
        <meta charset="UTF-8" />
       <title>Calendario</title> 
       <style>

        body{

            margin: 0;

        }

        section{
            display: flex;
            margin:0 auto;
            flex-direction: column;

        }

            h1{

            text-align: center;
            color: #BF54A3;
            background: #F2F2F2;
            margin: 0;

            }

            #scRegister{

            line-height: 35px;
            text-align: center; 

            }

            label{ 
                font-weight: 600;
            }

            form{
                background-color:#F2F2F2 ;
                padding:40px;
                border-radius: 20px;
                box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2)

            }

            .row{ 
                display: flex;
                margin-top:50px;
                padding:20px; 
                padding:20px;

            }

            br{
                margin:10px

            }

            #scList{

            }

            
            button {
                background: linear-gradient(135deg, #6e8efb, #a777e3);
                color: white;
                border: none;
                padding: 12px 24px;
                font-size: 16px;
                font-weight: bold;
                border-radius: 8px;
                box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
                cursor: pointer;
                transition: all 0.3s ease-in-out;
                position: relative;
                overflow: hidden;
                margin: 20px auto 0;
                display: block;
            }

            button:hover {
                background: linear-gradient(135deg, #5b77e0, #925ec4);
                box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.3);
                transform: translateY(-2px);
            }

            button:active {
                transform: translateY(1px);
                box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.2);
            }

            button.round {
                width: 35%;
                height: 35px;
                border-radius: 50%
            }
 
            button.edit{
                background-color: #ffff00;
            }

            form {
                background-color: #F2F2F2;
                padding: 40px;
                border-radius: 20px;
                box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            }

       </style>
    </head>
    <body>
        <h1>Cronograma de Calendario</h1>
        <div class="row">
            <section>
                <form id="scRegister">
                    <label> Nome do Aluno: </label><input id="student" type= "text"/><br>
                    <label> Curso: </label><textarea id="course" type="text"></textarea><br>
                    <label> Data da Matricula: </label><input id="date" type= "date"/><br>
                    <label for="Período do curso" id="period">Periodo: </label>
                    
                    <select id="period" cronograma ="opcoes">
                        <option id="opcao1" value="opcao1">Manhã</option>
                        <option id="opcao2" value="opcao2">Tarde</option>
                        <option id="opcao3" value="opcao3">Noite</option><br>
                    <!--Adicionar Cronograma-->
                    </select><br>
                    <button type="button" id="register" onclick="handleRegister()">cadastrar</button>
                </form>
        </section>

            <section id="scList">

                <table>
                    <thead>
                        <tr>
                            <th>Cronograma</th>
                        </tr>
                    </thead>
                    <tbody>
                
                    </tbody>
                </table>
            </section>
    </div>
    </body>
<script>

    var calendars = []


    function setCalendars(req){
        let c = {
            id: calendars.length,
            StudentName: req.id,
            Course: req.Course,
            Period: req.Period,
            DateRegistration: req.DateRegistration
        }
    
        calendars.push(c)
        return "Cadastrado"

    }
            function putcalendars(){
            let idx = calendars.findIndex(c => c.id == id)   
        
            if (idx == -1) return "Não encontrado"

            if(req.description != undefined) calendarios[idx].description = req.description
            if( req.url != undefined) calendarios[idx].url = req.url
            if( req.createAt != undefined) calendarios[idx]. createAt = req.createAt
            if( req.userId != undefined) calendarios[idx].userId = req.userId

            return calendarios [idx]
        }

        function handleRegister(){
            let id = document.getElementById('id').value
            if(id == -1){

                console.log(
                    setCalendars({
                        StudentName:document.getElementById("student").value,
                        Course:document.getElementById("course").value, 
                        Period:document.getElementById("period").value, 
                        DateRegistration:document.getElementById("date").value, 
                        userId: 0,
            })
                )
            }else if(id > -1){
                //chamar a função de put
                
                 putCalendars({ 

                        StudentName:document.getElementById("student").value,
                        Course:document.getElementById("course").value, 
                        Period:document.getElementById("period").value, 
                        DateRegistration:document.getElementById("date").value, 
                        userId: 0,


                 })

                document.getElementById('id').value = -1
            }else{
                console.log("erro")
            }
        
            listCalendars(calendars)    

        }
    function editCalendars (id){
        let calendar =calendars.find(c => c.id == id)
                document.getElementById("student").value = calendar.student,
                document.getElementById("course").value = calendar.course,
                document.getElementById("date").value = calendar.date,
                document.getElementById("period").value = calendar.period,
                document.getElementById("id").value = calendar.id

    }

    function listCalendars(cList){
        const tbody = document.querySelector("#scList tbody")
        tbody. innerHTML = ""
/*executa o callback fornecido uma vez para cada elemento da ordem com um valor atribuido*/
        cList.forEach(c => {
            const row = document.createElement ("tr");
        
            const timelineCell = document.createElement("td");
            timelineCell.textContent = c.DateRegistration

            const editCell = document.createElement("td")
            const editButton = document.createElement("button")
            editButton.className = "round edit"
            editButton.onclick = function() {
                editCalendars(p.id)
            };
            editCell.appendChild(editButton)

            const dellCell = document.createElement("td")
            const dellButton = document.createElement("button")
            dellButton.className = "round dell"
            dellCell.appendChild(dellButton)

            row.appendChild(timelineCell)
            row.appendChild(editCell)
            row.appendChild(dellCell)
            tbody.appendChild(row)
            })
        }
    </script>
</html>


