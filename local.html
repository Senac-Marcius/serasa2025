<!DOCTYPE html>
<html lang = "pt-BR"> 
    <head>
        <meta charset="UTF-8" />
        <title> Local </title>
        <style>

            body{
                margin: 0;
            }

            h1{
                text-align: center;
                color: #BF54A3;
                background-color: #f2f2f2;
                margin: 0;
            }

            #scRegister{
                
            }
            #sclist{

            }
            body{
                margin: 0;
            }
        </style>
    </head>
    <body>
        <h1> Cadastre o seu Local: </h1>
        <section id="scRegister">
        <form>
            <label>Nome: </label><input id="name" type="text" /><br>
            <label>Área: </label><input id="area" type="text" /><br> 
            <label>Descrição: </label><input id="description" type="text" /><br> 
            <label>Endereço: </label><input id="adress" type="text" /><br>
            <button type="button" id="register" onclick="handleRegister()">Cadastrar</button> 
        </form>

        </section>

        <section id="scList">
            <table>
                <thead>
                    <th>name</th>
                </thead>
                <tbody>

                </tbody>  
            </table>
        </section>
    </body>
    <script>
        var locals = []

        function setLocal(req){   

        const createAtRegex = /^\d{4}-\d{2}-\d{2}$/

        if(req.name.length > 244){
                return "campo name, aceita até 244 caracteres"}
       
        if(!createAtRegex.test(req.createAt)){
            return "data invalida, nao aceito letras"}
        
        let l =  {                                    
            id: locals.length - 1,                        
            name: req.name,                            
            area: req.area,
            description: req.description,  
            adress: req.adress,                     
            createAt: req.createAt                  
            }
        locals.push(l) 
        return "Cadastrado"                              
        } 

        function handleRegister(){
            console.log(
                setLocal({
                    name: document.getElementById("name").value,
                    area: document.getElementById("area").value,
                    description: document.getElementById("description").value,
                    adress: document.getElementById("adress").value,
                    createAt: "2013-01-05"
                }) 
            )
                listLocals(locals)
        }
        
        function listLocals(lList){
            const tbody = document.querySelector("#scList tbody") //o # indica q está procurando o Id. 
            tbody.innerHTML = ""

            lList.forEach(l => {
                const row = document.createElement("tr");  //tr= table row
                const nameCell =  document.createElement("td");
                nameCell.textContent = l.name;

                row.appendChild(nameCell);
                tbody.appendChild(row)

            })      
            
            /*o locals é o meu vetor, e é tb um objeto. ele guarda a função dentro do objeto. 
            o for each é = ao find, a cada passo ele passa pelo elemento e pega-o.   */
            //ESTUDAR EM CASA O CSS, PELO W3SCHOOL, INICIANDO NO BÁSICO.
            //CRIAR UM FORMULARIO DE FILTRO PARA CHAMAR UMA FUNCAO DE GET E DPS CHAMAR A FUNCAO QUE CRIAMOS HOJE, RECEBENDO A LISTA QUE ELE RETORNOU.

            /* PARA ATUALIZAR O H1 =>  text-align: center; color: #BF54A3;
            
            */
        }
   </script>
</html>   
