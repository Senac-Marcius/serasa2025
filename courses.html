<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8"/>
    <title>Courses</title>
    <style>
        body{
            margin: 0;
        }
        h1{

        }
        #scRegister{

        }
        #scList{

        }
    </style>
</head>
    <body>
        <h1>Cadastre seu curso</h1>
        <section>
            <form id="scRegister">
                <label>Curso: </label><input id="course" type="text"/><br>
                <label>Descrição: </label><input id="description" type="textarea"/><br>
                <label>Plano de curso: </label><input id="coursePlan" type="file"/><br>
                <label>Plano de orientação: </label><input id="guidancePlan" type="file"/><br>
                <label>Carga horaria: </label><input id="workload" type="text"/><br>
                <button type="button" id="register" onclick="handleRegister()">Cadastrar</button>
            </form>
        </section>

        <section id="scList">
            <table>
                <thead>
                    <tr>
                        <th>Cursos</th>
                    </tr>
                </thead>
                <tbody id ="tablebody">

                </tbody>
            </table>
        </section>

    </body>
    <script>
        var courses = []

        function setCourses(req){
           
    
            let p = {
                id: course.length ,
                course: req.course,
                description: req.description,
                coursePlan:req.coursePlan, 
                guidancePlan: req.guidancePlan,
                workload: req.workload,
                userId: req.userId  
            }

            courses.push(p)
            return "Cadastrado"
        }

        function handleRegister(){
            console.log(
                setCourses({
                course: document.getElementById("course").value,
                description: document.getElementById("description").value,
                coursePlan: document.getElementById("coursePlan").value,
                guidancePlan: document.getElementById("guidancePlan").value,
                workload: document.getElementById("workload").value,
                userId:0,
                })
            )
            listCourses(courses)
        }
        function listCourses(pList){
            const tbody = document.querySelector("#tablebody")
            tbody.innerHTML =""

            pList.forEach(p =>{
                const row = document.createElement("tr");

                const courseCell =document.createElement("td");
                courseCell.textContent = p.course

                row.appendChild(courseCell);
                tbody.appendChild(row);

            })
        }
    </script>
</html>