<!DOCTYPE html>
<head>
    <meta charset="UTF-8" />
    <title>categoria</title>
    </head>
    <body>
      <h1>cadastre sua categoria!</h1>
      <section id="scRegister">
        <form> 
          <label>nome: </label><input id="name" type="text" /><br><br>
         <button type="button" id="register" onclick="handleEnviar()">cadastrar</button>
       </form>

       </section>

      <section id="scList">
        <table>
          <thead>
            <th>nome</th>
          </thead>
          <tbody>

          </tbody>
        </table>
     </section>
    </body>
    <script>
      
      var categories = []

      function setCategory(req){
        const namePattern = /^[a-zA-Z\s]{2,50}$/;
        const datePattern = /^\d{4}-\d{2}-\d{2}$/;
        if(!namePattern.test(req.name)){
            return "campo inserido deve conter apenas letras"
        }
        if(!datePattern.test(req.createAt)){
            return "o campo deve ser somente data"
            
        }
        
        let c ={
            id: categories.length,
            name: req.name,
            createAt: req.createAt
        }
    
        categories.push(c)    //push Ã© empurrar
        return "cadastrado"
      }
   
      function handleEnviar(){
        console.log(
          setCategory ({      
              name: document.getElementById("name").value,
              createAt: "1980-01-01"
          })
        )

        listCategory(categories)
      }
 
      function listCategory(cList){
          const tbody = document.querySelector("#scList tbody")
          tbody.innerHTML = ""

          cList.forEach(c => {
            const row = document.createElement("tr")

            const nameCell = document.createElement("td")
            nameCell.textContent = c.name

            row.appendChild(nameCell)
            tbody.appendChild(row)
          })
        }
    </script>
 </html>
